
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>FAQ: A administração &mdash; Django v1.3.1 documentation</title>
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.3.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Django v1.3.1 documentation" href="../index.html" />
    <link rel="up" title="FAQ do Django" href="index.html" />
    <link rel="next" title="FAQ: Contribuindo com código" href="contributing.html" />
    <link rel="prev" title="FAQ: Bancos de dados e modelos" href="models.html" />
 
<script type="text/javascript" src="../templatebuiltins.js"></script>
<script type="text/javascript">
(function($) {
    if (!django_template_builtins) {
       // templatebuiltins.js missing, do nothing.
       return;
    }
    $(document).ready(function() {
        // Hyperlink Django template tags and filters
        var base = "../ref/templates/builtins.html";
        if (base == "#") {
            // Special case for builtins.html itself
            base = "";
        }
        // Tags are keywords, class '.k'
        $("div.highlight\\-html\\+django span.k").each(function(i, elem) {
             var tagname = $(elem).text();
             if ($.inArray(tagname, django_template_builtins.ttags) != -1) {
                 var fragment = tagname.replace(/_/, '-');
                 $(elem).html("<a href='" + base + "#" + fragment + "'>" + tagname + "</a>");
             }
        });
        // Filters are functions, class '.nf'
        $("div.highlight\\-html\\+django span.nf").each(function(i, elem) {
             var filtername = $(elem).text();
             if ($.inArray(filtername, django_template_builtins.tfilters) != -1) {
                 var fragment = filtername.replace(/_/, '-');
                 $(elem).html("<a href='" + base + "#" + fragment + "'>" + filtername + "</a>");
             }
        });
    });
})(jQuery);
</script>

  </head>
  <body>

    <div class="document">
  <div id="custom-doc" class="yui-t6">
    <div id="hd">
      <h1><a href="../index.html">Django v1.3.1 documentation</a></h1>
      <div id="global-nav">
        <a title="Home page" href="../index.html">Home</a>  |
        <a title="Tabela de conteúdos" href="../contents.html">Tabela de conteúdos</a>  |
        <a title="Índice Global" href="../genindex.html">Índice</a>  |
        <a title="Busca" href="../py-modindex.html">Módulos</a>
      </div>
      <div class="nav">
    &laquo; <a href="models.html" title="FAQ: Bancos de dados e modelos">previous</a> 
     |
    <a href="index.html" title="FAQ do Django" accesskey="U">up</a>
   |
    <a href="contributing.html" title="FAQ: Contribuindo com código">next</a> &raquo;</div>
    </div>
    
    <div id="bd">
      <div id="yui-main">
        <div class="yui-b">
          <div class="yui-g" id="faq-admin">
            
  <div class="section" id="s-faq-a-administracao">
<span id="faq-a-administracao"></span><h1>FAQ: A administração<a class="headerlink" href="#faq-a-administracao" title="Permalink to this headline">¶</a></h1>
<div class="section" id="s-nao-consigo-logar-quando-eu-insiro-um-usuario-e-senha-validos-ele-apenas-tras-a-pagina-de-login-de-novo-sem-mensagens-de-erro">
<span id="nao-consigo-logar-quando-eu-insiro-um-usuario-e-senha-validos-ele-apenas-tras-a-pagina-de-login-de-novo-sem-mensagens-de-erro"></span><h2>Não consigo logar. Quando eu insiro um usuário e senha válidos, ele apenas trás a página de login de novo, sem mensagens de erro.<a class="headerlink" href="#nao-consigo-logar-quando-eu-insiro-um-usuario-e-senha-validos-ele-apenas-tras-a-pagina-de-login-de-novo-sem-mensagens-de-erro" title="Permalink to this headline">¶</a></h2>
<p>O cookie de login não está configurado corretamente, porque o domínio do cookie
enviado pelo Django não casa com o domínio no seu navegador. Verifique essas
duas coisas:</p>
<ul class="simple">
<li>Configure o <tt class="docutils literal"><span class="pre">SESSION_COOKIE_DOMAIN</span></tt> na configuração de seu admin para
casar com seu domínio. Por exemplo, se você está acessando
&#8220;<a class="reference external" href="http://www.mysite.com/admin/">http://www.mysite.com/admin/</a>&#8221; no seu navegador, em &#8220;myproject.settings&#8221;
você deverá definir o <tt class="docutils literal"><span class="pre">SESSION_COOKIE_DOMAIN</span> <span class="pre">=</span> <span class="pre">'www.mysite.com'</span></tt>.</li>
<li>Alguns navegadores (Firefox?) não gostam de acessar cookies de domínios
que não têm pontos. Se você está executando o site administrativo em
&#8220;localhost&#8221; ou outro domínio que não tem um ponto, tente acessar
&#8220;localhost.localdomain&#8221; ou &#8220;127.0.0.1&#8221; e igualmente configure o
<tt class="docutils literal"><span class="pre">SESSION_COOKIE_DOMAIN</span></tt>.</li>
</ul>
</div>
<div class="section" id="s-nao-consigo-logar-quando-eu-insiro-um-usuario-e-senha-validos-ele-apenas-tras-a-pagina-de-login-de-novo-com-um-erro-por-favor-informe-um-usuario-e-senha-corretos">
<span id="nao-consigo-logar-quando-eu-insiro-um-usuario-e-senha-validos-ele-apenas-tras-a-pagina-de-login-de-novo-com-um-erro-por-favor-informe-um-usuario-e-senha-corretos"></span><h2>Não consigo logar. Quando eu insiro um usuário e senha válidos, ele apenas trás a página de login de novo, com um erro &#8220;Por favor, informe um usuário e senha corretos&#8221;.<a class="headerlink" href="#nao-consigo-logar-quando-eu-insiro-um-usuario-e-senha-validos-ele-apenas-tras-a-pagina-de-login-de-novo-com-um-erro-por-favor-informe-um-usuario-e-senha-corretos" title="Permalink to this headline">¶</a></h2>
<p>Se você está certo sobre seu usuário e senha, verifique se seu usuário tem o
<tt class="docutils literal"><span class="pre">is_active</span></tt> e``is_staff`` definidos como True. O site administrativo somente
libera o acesso a usuários com esses dois campos em True.</p>
</div>
<div class="section" id="s-como-eu-previno-o-middleware-de-cache-de-fazer-cache-do-site-administrativo">
<span id="como-eu-previno-o-middleware-de-cache-de-fazer-cache-do-site-administrativo"></span><h2>Como eu previno o middleware de cache de fazer cache do site administrativo?<a class="headerlink" href="#como-eu-previno-o-middleware-de-cache-de-fazer-cache-do-site-administrativo" title="Permalink to this headline">¶</a></h2>
<p>Defina o valor de <tt class="xref std std-setting docutils literal"><span class="pre">CACHE_MIDDLEWARE_ANONYMOUS_ONLY</span></tt> para
<tt class="xref docutils literal"><span class="pre">True</span></tt>. Veja a <a class="reference internal" href="../topics/cache.html"><em>documentação do cache</em></a> para mais
informações.</p>
</div>
<div class="section" id="s-como-eu-defino-automaticamente-o-valor-de-um-campo-para-o-usuario-que-editou-o-objeto-por-ultimo-na-administracao">
<span id="como-eu-defino-automaticamente-o-valor-de-um-campo-para-o-usuario-que-editou-o-objeto-por-ultimo-na-administracao"></span><h2>Como eu defino automaticamente o valor de um campo para o usuário que editou o objeto por último na administração?<a class="headerlink" href="#como-eu-defino-automaticamente-o-valor-de-um-campo-para-o-usuario-que-editou-o-objeto-por-ultimo-na-administracao" title="Permalink to this headline">¶</a></h2>
<p>A classe <a class="reference internal" href="../ref/contrib/admin/index.html#django.contrib.admin.ModelAdmin" title="django.contrib.admin.ModelAdmin"><tt class="xref py py-class docutils literal"><span class="pre">ModelAdmin</span></tt></a> fornece ganchos (hooks) de personalização que
permitem que você transforme um objeto quando ele é salvo, usando detalhes
obtidos da requisição. Ao extrair o usuário atual da requisição, e personalizar
o gancho <a class="reference internal" href="../ref/contrib/admin/index.html#django.contrib.admin.ModelAdmin.save_model" title="django.contrib.admin.ModelAdmin.save_model"><tt class="xref py py-meth docutils literal"><span class="pre">save_model()</span></tt></a>, você pode atualizar um objeto para
refletir o usuário que o editou. Veja <a class="reference internal" href="../ref/contrib/admin/index.html#model-admin-methods"><em>a documentação sobre os métodos do
ModelAdmin</em></a> para um exemplo.</p>
</div>
<div class="section" id="s-como-eu-restrinjo-a-edicao-de-objetos-na-administracao-a-apenas-os-usuarios-que-os-criaram">
<span id="como-eu-restrinjo-a-edicao-de-objetos-na-administracao-a-apenas-os-usuarios-que-os-criaram"></span><h2>Como eu restrinjo a edição de objetos na administração a apenas os usuários que os criaram?<a class="headerlink" href="#como-eu-restrinjo-a-edicao-de-objetos-na-administracao-a-apenas-os-usuarios-que-os-criaram" title="Permalink to this headline">¶</a></h2>
<p>A classe <tt class="xref py py-class docutils literal"><span class="pre">ModelAdmin</span></tt> também fornece ganchos de personalização que
permitem que você controle a visibilidade e editabilidade dos objetos na
administração. Usando o mesmo truque de extrair o usuário da requisição,
<tt class="xref py py-meth docutils literal"><span class="pre">ModelAdmin.queryset()</span></tt> e <tt class="xref py py-meth docutils literal"><span class="pre">ModelAdmin.has_change_permission()</span></tt> podem
ser usados para controlar a visibilidade e editabilidade de objetos na
administração.</p>
</div>
<div class="section" id="s-minhas-imagens-e-css-do-site-administrativo-funcionam-no-servidor-de-desenvolvimento-mas-nao-aparecem-ao-executar-no-mod-python">
<span id="minhas-imagens-e-css-do-site-administrativo-funcionam-no-servidor-de-desenvolvimento-mas-nao-aparecem-ao-executar-no-mod-python"></span><h2>Minhas imagens e CSS do site administrativo funcionam no servidor de desenvolvimento, mas não aparecem ao executar no mod_python.<a class="headerlink" href="#minhas-imagens-e-css-do-site-administrativo-funcionam-no-servidor-de-desenvolvimento-mas-nao-aparecem-ao-executar-no-mod-python" title="Permalink to this headline">¶</a></h2>
<p>Veja <a class="reference internal" href="../howto/deployment/modwsgi.html#serving-the-admin-files"><em>servindo os arquivos da administração</em></a>
na documentação &#8220;Como usar o Django com o mod_python&#8221;.</p>
</div>
<div class="section" id="s-meu-list-filter-contem-um-manytomanyfield-mas-o-filtro-nao-e-exibido">
<span id="meu-list-filter-contem-um-manytomanyfield-mas-o-filtro-nao-e-exibido"></span><h2>Meu &#8220;list_filter&#8221; contém um ManyToManyField, mas o filtro não é exibido.<a class="headerlink" href="#meu-list-filter-contem-um-manytomanyfield-mas-o-filtro-nao-e-exibido" title="Permalink to this headline">¶</a></h2>
<p>O Django não exibirá um filtro para um <tt class="docutils literal"><span class="pre">ManyToManyField</span></tt> a menos que existam
mais de dois objetos relacionados.</p>
<p>Por exemplo, se o seu <tt class="docutils literal"><span class="pre">list_filter</span></tt> inclui <tt class="docutils literal"><span class="pre">sites</span></tt>, e se existe apenas um
site no seu banco de dados, ele não exibirá um filtro de &#8220;Site&#8221;. Nesse caso,
o filtro por site seria inútil.</p>
</div>
<div class="section" id="s-como-eu-posso-personalizar-a-funcionalidade-da-interface-administrativa">
<span id="como-eu-posso-personalizar-a-funcionalidade-da-interface-administrativa"></span><h2>Como eu posso personalizar a funcionalidade da interface administrativa?<a class="headerlink" href="#como-eu-posso-personalizar-a-funcionalidade-da-interface-administrativa" title="Permalink to this headline">¶</a></h2>
<p>Você tem algumas opções. Se você quer extender o formulário gerado
automaticamente pelo Django, você pode incluir módulos JavaScript na página
pelo parâmetro <tt class="docutils literal"><span class="pre">js</span></tt> da <tt class="docutils literal"><span class="pre">classe</span> <span class="pre">Admin</span></tt> do model. Esse parâmetro é uma lista
de URLs, como strings, apontando para módulos JavaScript que serão incluídos
dentro do formulário da administração via uma tag <tt class="docutils literal"><span class="pre">&lt;script&gt;</span></tt>.</p>
<p>Se você quer mais flexibilidade do que apenas ajustar os formulários auto-gerados
sinta-se livre para escrever views personalizadas para a administração. A administração
é feito em Django puro, e você pode escrever views personalizadas que se liguem ao
sistema de autenticação, verifiquem permissões e façam o que for preciso.</p>
<p>Se você quer personalizar a aparência da interface administrativa, leia a próxima
questão.</p>
</div>
<div class="section" id="s-o-site-administrativo-gerado-automaticamente-e-horrivel-como-eu-posso-muda-lo">
<span id="o-site-administrativo-gerado-automaticamente-e-horrivel-como-eu-posso-muda-lo"></span><h2>O site administrativo gerado automaticamente é horrível! Como eu posso mudá-lo?<a class="headerlink" href="#o-site-administrativo-gerado-automaticamente-e-horrivel-como-eu-posso-muda-lo" title="Permalink to this headline">¶</a></h2>
<p>Gostamos dele, mas se você não gosta, você pode mudar a apresentação do site
editando a folha de estilos e/ou as imagens assossiadas. O site é construído
usando HTML semântico e está cheio de hooks de CSS, assim, qualquer mudança que
você quiser fazer é possível pela edição da folha de estilos. Nós escrevemos um
<a class="reference internal" href="../obsolete/admin-css.html"><em>guia para o CSS usado na administração</em></a> para
auxiliá-lo.</p>
</div>
</div>


          </div>         
        </div>
      </div>
      
        
          <div class="yui-b" id="sidebar">
            
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">FAQ: A administração</a><ul>
<li><a class="reference internal" href="#nao-consigo-logar-quando-eu-insiro-um-usuario-e-senha-validos-ele-apenas-tras-a-pagina-de-login-de-novo-sem-mensagens-de-erro">Não consigo logar. Quando eu insiro um usuário e senha válidos, ele apenas trás a página de login de novo, sem mensagens de erro.</a></li>
<li><a class="reference internal" href="#nao-consigo-logar-quando-eu-insiro-um-usuario-e-senha-validos-ele-apenas-tras-a-pagina-de-login-de-novo-com-um-erro-por-favor-informe-um-usuario-e-senha-corretos">Não consigo logar. Quando eu insiro um usuário e senha válidos, ele apenas trás a página de login de novo, com um erro &#8220;Por favor, informe um usuário e senha corretos&#8221;.</a></li>
<li><a class="reference internal" href="#como-eu-previno-o-middleware-de-cache-de-fazer-cache-do-site-administrativo">Como eu previno o middleware de cache de fazer cache do site administrativo?</a></li>
<li><a class="reference internal" href="#como-eu-defino-automaticamente-o-valor-de-um-campo-para-o-usuario-que-editou-o-objeto-por-ultimo-na-administracao">Como eu defino automaticamente o valor de um campo para o usuário que editou o objeto por último na administração?</a></li>
<li><a class="reference internal" href="#como-eu-restrinjo-a-edicao-de-objetos-na-administracao-a-apenas-os-usuarios-que-os-criaram">Como eu restrinjo a edição de objetos na administração a apenas os usuários que os criaram?</a></li>
<li><a class="reference internal" href="#minhas-imagens-e-css-do-site-administrativo-funcionam-no-servidor-de-desenvolvimento-mas-nao-aparecem-ao-executar-no-mod-python">Minhas imagens e CSS do site administrativo funcionam no servidor de desenvolvimento, mas não aparecem ao executar no mod_python.</a></li>
<li><a class="reference internal" href="#meu-list-filter-contem-um-manytomanyfield-mas-o-filtro-nao-e-exibido">Meu &#8220;list_filter&#8221; contém um ManyToManyField, mas o filtro não é exibido.</a></li>
<li><a class="reference internal" href="#como-eu-posso-personalizar-a-funcionalidade-da-interface-administrativa">Como eu posso personalizar a funcionalidade da interface administrativa?</a></li>
<li><a class="reference internal" href="#o-site-administrativo-gerado-automaticamente-e-horrivel-como-eu-posso-muda-lo">O site administrativo gerado automaticamente é horrível! Como eu posso mudá-lo?</a></li>
</ul>
</li>
</ul>

  <h3>Browse</h3>
  <ul>
    
      <li>Prev: <a href="models.html">FAQ: Bancos de dados e modelos</a></li>
    
    
      <li>Next: <a href="contributing.html">FAQ: Contribuindo com código</a></li>
    
  </ul>
  <h3>Você está aqui:</h3>
  <ul>
      <li>
        <a href="../index.html">Django v1.3.1 documentation</a>
        
          <ul><li><a href="index.html">FAQ do Django</a>
        
        <ul><li>FAQ: A administração</li></ul>
        </li></ul>
      </li>
  </ul>  

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/faq/admin.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
              <h3>Última atualização:</h3>
              <p class="topless">Dec 06, 2011</p>
          </div> 
        
      
    </div>
    
    <div id="ft">
      <div class="nav">
    &laquo; <a href="models.html" title="FAQ: Bancos de dados e modelos">previous</a> 
     |
    <a href="index.html" title="FAQ do Django" accesskey="U">up</a>
   |
    <a href="contributing.html" title="FAQ: Contribuindo com código">next</a> &raquo;</div>
    </div>
  </div>

      <div class="clearer"></div>
    </div>
  </body>
</html>