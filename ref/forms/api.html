
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>A API de formulários &mdash; Django v1.3.1 documentation</title>
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.3.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="Django v1.3.1 documentation" href="../../index.html" />
    <link rel="up" title="Formulários" href="index.html" />
    <link rel="next" title="Campos de formulário" href="fields.html" />
    <link rel="prev" title="Formulários" href="index.html" />
 
<script type="text/javascript" src="../../templatebuiltins.js"></script>
<script type="text/javascript">
(function($) {
    if (!django_template_builtins) {
       // templatebuiltins.js missing, do nothing.
       return;
    }
    $(document).ready(function() {
        // Hyperlink Django template tags and filters
        var base = "../templates/builtins.html";
        if (base == "#") {
            // Special case for builtins.html itself
            base = "";
        }
        // Tags are keywords, class '.k'
        $("div.highlight\\-html\\+django span.k").each(function(i, elem) {
             var tagname = $(elem).text();
             if ($.inArray(tagname, django_template_builtins.ttags) != -1) {
                 var fragment = tagname.replace(/_/, '-');
                 $(elem).html("<a href='" + base + "#" + fragment + "'>" + tagname + "</a>");
             }
        });
        // Filters are functions, class '.nf'
        $("div.highlight\\-html\\+django span.nf").each(function(i, elem) {
             var filtername = $(elem).text();
             if ($.inArray(filtername, django_template_builtins.tfilters) != -1) {
                 var fragment = filtername.replace(/_/, '-');
                 $(elem).html("<a href='" + base + "#" + fragment + "'>" + filtername + "</a>");
             }
        });
    });
})(jQuery);
</script>

  </head>
  <body>

    <div class="document">
  <div id="custom-doc" class="yui-t6">
    <div id="hd">
      <h1><a href="../../index.html">Django v1.3.1 documentation</a></h1>
      <div id="global-nav">
        <a title="Home page" href="../../index.html">Home</a>  |
        <a title="Tabela de conteúdos" href="../../contents.html">Tabela de conteúdos</a>  |
        <a title="Índice Global" href="../../genindex.html">Índice</a>  |
        <a title="Busca" href="../../py-modindex.html">Módulos</a>
      </div>
      <div class="nav">
    &laquo; <a href="index.html" title="Formulários">previous</a> 
     |
    <a href="../index.html" title="Referência da API" accesskey="U">up</a>
   |
    <a href="fields.html" title="Campos de formulário">next</a> &raquo;</div>
    </div>
    
    <div id="bd">
      <div id="yui-main">
        <div class="yui-b">
          <div class="yui-g" id="ref-forms-api">
            
  <div class="section" id="s-a-api-de-formularios">
<span id="a-api-de-formularios"></span><h1>A API de formulários<a class="headerlink" href="#a-api-de-formularios" title="Permalink to this headline">¶</a></h1>
<div class="admonition-sobre-este-documento admonition ">
<p class="first admonition-title">Sobre este documento</p>
<p class="last">Este documento cobre os detalhes arenosos da API de formulário do Django.
Você deve ler a <a class="reference internal" href="../../topics/forms/index.html"><em>introdução ao trabalho com formulários</em></a> primeiro.</p>
</div>
<div class="section" id="s-bound-e-unbound-formularios">
<span id="s-ref-forms-api-bound-unbound"></span><span id="bound-e-unbound-formularios"></span><span id="ref-forms-api-bound-unbound"></span><h2>Bound e unbound formulários<a class="headerlink" href="#bound-e-unbound-formularios" title="Permalink to this headline">¶</a></h2>
<p>Uma instância de <tt class="xref py py-class docutils literal"><span class="pre">Form</span></tt>, pode ser ambos, <strong>bound</strong> para um conjunto de
dados, ou <strong>unbound</strong>.</p>
<ul class="simple">
<li>Se ela for <strong>bound</strong> para um conjunto de dados, ela será capaz de validar
estes dados renderizando o formulário como um HTML com os dados exibidos
dentro do HTML.</li>
<li>Se ela for <strong>unbound</strong> ela não fará validação (pois não há dados para
validar!), mas ela ainda poderá renderizar o formulário em branco em HTML.</li>
</ul>
<p>Para criar uma instância <tt class="xref py py-class docutils literal"><span class="pre">Form</span></tt>, simplesmente instancie a classe:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">()</span>
</pre></div>
</div>
<p>Para embutir dados no formulário, passe um dicionário como o primeiro parâmetro
para o construtor da sua classe <tt class="xref py py-class docutils literal"><span class="pre">Form</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;subject&#39;</span><span class="p">:</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s">&#39;message&#39;</span><span class="p">:</span> <span class="s">&#39;Hi there&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s">&#39;sender&#39;</span><span class="p">:</span> <span class="s">&#39;foo@example.com&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s">&#39;cc_myself&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<p>No dicionário, as chaves são os nomes dos campos, que correspondem aos
atributos na sua classe <tt class="xref py py-class docutils literal"><span class="pre">Form</span></tt>. Os valores são os ados que você está
tentando validar. Estes normalmente serão strings, mas não há exigências para
sejam strings. o tipo de dado que você passa depende do <a class="reference internal" href="fields.html#django.forms.Field" title="django.forms.Field"><tt class="xref py py-class docutils literal"><span class="pre">Field</span></tt></a>, como
veremos em breve.</p>
<dl class="attribute">
<dt id="django.forms.Form.is_bound">
<tt class="descclassname">Form.</tt><tt class="descname">is_bound</tt><a class="headerlink" href="#django.forms.Form.is_bound" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Se você precisa distinguir entre instâncias formulários bound e unbound em tempo
de execução, verifique o valor do atributo <a class="reference internal" href="#django.forms.Form.is_bound" title="django.forms.Form.is_bound"><tt class="xref py py-attr docutils literal"><span class="pre">is_bound</span></tt></a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">is_bound</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">({</span><span class="s">&#39;subject&#39;</span><span class="p">:</span> <span class="s">&#39;hello&#39;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">is_bound</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Note que passando um dicionário vazio você cria um formulário <em>bound</em> sem
dados:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">({})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">is_bound</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Se você tem uma instância <tt class="xref py py-class docutils literal"><span class="pre">Form</span></tt> e deseja mudar os dados de alguma forma,
ou se você quer vincular uma instância unbound para algum dado, crie outra
instância <tt class="xref py py-class docutils literal"><span class="pre">Form</span></tt>. Não há formas de mudar os dados numa instância
<tt class="xref py py-class docutils literal"><span class="pre">Form</span></tt>. Uma vez que uma instância de <tt class="xref py py-class docutils literal"><span class="pre">Form</span></tt> foi criada, você deve
considerar seus dados imutável, tendo ela dados ou não.</p>
</div>
<div class="section" id="s-usando-formularios-para-validar-dados">
<span id="usando-formularios-para-validar-dados"></span><h2>Usando formulários para validar dados<a class="headerlink" href="#usando-formularios-para-validar-dados" title="Permalink to this headline">¶</a></h2>
<dl class="method">
<dt id="django.forms.Form.is_valid">
<tt class="descclassname">Form.</tt><tt class="descname">is_valid</tt>()<a class="headerlink" href="#django.forms.Form.is_valid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>A primeira tarefa de um objeto <tt class="xref py py-class docutils literal"><span class="pre">Form</span></tt> é validar dados. Com uma instância
de preenchida de um formulário, chame o método <tt class="xref py py-meth docutils literal"><span class="pre">is_valid()</span></tt> para
executar a validação e retornar um booleano designando se ele foi validado:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;subject&#39;</span><span class="p">:</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s">&#39;message&#39;</span><span class="p">:</span> <span class="s">&#39;Hi there&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s">&#39;sender&#39;</span><span class="p">:</span> <span class="s">&#39;foo@example.com&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s">&#39;cc_myself&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">is_valid</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Vamos tentar com algum dado inválido. Neste caso, <tt class="docutils literal"><span class="pre">subject</span></tt> esta em branco (um
erro, pois todos os campos são obrigatórios por padrão) e <tt class="docutils literal"><span class="pre">sender</span></tt> é um
endereço de email inválido:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;subject&#39;</span><span class="p">:</span> <span class="s">&#39;&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s">&#39;message&#39;</span><span class="p">:</span> <span class="s">&#39;Hi there&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s">&#39;sender&#39;</span><span class="p">:</span> <span class="s">&#39;invalid e-mail address&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s">&#39;cc_myself&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">is_valid</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
<dl class="attribute">
<dt id="django.forms.Form.errors">
<tt class="descclassname">Form.</tt><tt class="descname">errors</tt><a class="headerlink" href="#django.forms.Form.errors" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Acesse o atributo <tt class="xref py py-attr docutils literal"><span class="pre">erros</span></tt> para pegar um dicionários com as mensagens
de erro:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">errors</span>
<span class="go">{&#39;sender&#39;: [u&#39;Enter a valid e-mail address.&#39;], &#39;subject&#39;: [u&#39;This field is required.&#39;]}</span>
</pre></div>
</div>
<p>Neste dicionário, as chaves são nomes de campos, e os valores são listas de
strings Unicode representando as mensagens de erro. As mensagens de erro são
armazenadas na lista porque um campo pode ter mais de uma mensagem de erro.</p>
<p>Você pode acessar <a class="reference internal" href="#django.forms.Form.errors" title="django.forms.Form.errors"><tt class="xref py py-attr docutils literal"><span class="pre">errors</span></tt></a> sem ter de chamar
<a class="reference internal" href="#django.forms.Form.is_valid" title="django.forms.Form.is_valid"><tt class="xref py py-meth docutils literal"><span class="pre">is_valid()</span></tt></a> primeiro. Os dados do formulário estarão validados na
primeira vez que você chamar <a class="reference internal" href="#django.forms.Form.is_valid" title="django.forms.Form.is_valid"><tt class="xref py py-meth docutils literal"><span class="pre">Form.is_valid()</span></tt></a> ou acessar o
<a class="reference internal" href="#django.forms.Form.errors" title="django.forms.Form.errors"><tt class="xref py py-attr docutils literal"><span class="pre">errors</span></tt></a>.</p>
<p>As rotinas de validação serão chamadas somente uma vez, indiferente de quantas
vezes você acessar <tt class="xref py py-attr docutils literal"><span class="pre">errors</span></tt> ou chamar <a class="reference internal" href="#django.forms.Form.is_valid" title="django.forms.Form.is_valid"><tt class="xref py py-meth docutils literal"><span class="pre">is_valid()</span></tt></a>. Isso
significa que se a validação tem efeitos de sentido único, estes efeitos somente
serão disparados uma vez.</p>
<div class="section" id="s-comportamento-de-formulario-vazios">
<span id="comportamento-de-formulario-vazios"></span><h3>Comportamento de formulário vazios<a class="headerlink" href="#comportamento-de-formulario-vazios" title="Permalink to this headline">¶</a></h3>
<p>É sem sentido validar um formulário sem dados, mas, para registro, aqui está
o que acontece com formulários vazios:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">is_valid</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">errors</span>
<span class="go">{}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="s-valores-iniciais-dinamicos">
<span id="valores-iniciais-dinamicos"></span><h2>Valores iniciais dinâmicos<a class="headerlink" href="#valores-iniciais-dinamicos" title="Permalink to this headline">¶</a></h2>
<dl class="attribute">
<dt id="django.forms.Form.initial">
<tt class="descclassname">Form.</tt><tt class="descname">initial</tt><a class="headerlink" href="#django.forms.Form.initial" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Use <tt class="docutils literal"><span class="pre">initial</span></tt> para declarar valores iniciais de campos de formulários em tempo
de execução. Por exemplo, você pode querer preencher um campo <tt class="docutils literal"><span class="pre">username</span></tt> com o
nome de usuário da sessão atual.</p>
<p>Para realizar isso, use o argumento <tt class="docutils literal"><span class="pre">initial</span></tt> de um <tt class="docutils literal"><span class="pre">Form</span></tt>. Este argumento,
se fornecido, deve ser um dicionário mapeando os nomes dos campos com valores
iniciais. Somente inclua os campos que você estiver especificando um valor
inicial; não é necessário incluír todos os campos do seu formulário. Por
exemplo:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">initial</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;subject&#39;</span><span class="p">:</span> <span class="s">&#39;Hi there!&#39;</span><span class="p">})</span>
</pre></div>
</div>
<p>Estes valores são somente mostrados para formulários vazios, e eles não são
usados como valores de recuo se um valor particular não é fornecido.</p>
<p>Note que se um <tt class="docutils literal"><span class="pre">Field</span></tt> define <tt class="docutils literal"><span class="pre">initial</span></tt> <em>e</em> você inclui <tt class="docutils literal"><span class="pre">initial</span></tt> quando
instância o <tt class="docutils literal"><span class="pre">Form</span></tt>, então mais tarde <tt class="docutils literal"><span class="pre">initial</span></tt> terá prioridade. Neste
exemplo, <tt class="docutils literal"><span class="pre">initial</span></tt> é fornecido a nível de campo e a nível de instância de
formulário, e mais tarde terá prioridade:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">CommentForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">Form</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">name</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">initial</span><span class="o">=</span><span class="s">&#39;class&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">url</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">URLField</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">comment</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">CommentForm</span><span class="p">(</span><span class="n">initial</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;name&#39;</span><span class="p">:</span> <span class="s">&#39;instance&#39;</span><span class="p">},</span> <span class="n">auto_id</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">f</span>
<span class="go">&lt;tr&gt;&lt;th&gt;Name:&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;name&quot; value=&quot;instance&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;Url:&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;url&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;Comment:&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;comment&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="s-acessando-dados-limpos">
<span id="acessando-dados-limpos"></span><h2>Acessando dados &quot;limpos&quot;<a class="headerlink" href="#acessando-dados-limpos" title="Permalink to this headline">¶</a></h2>
<p>Cada <tt class="docutils literal"><span class="pre">Field</span></tt> numa classe <tt class="docutils literal"><span class="pre">Form</span></tt> é responsável não somente por validar dados,
mas também por limpá-los -- normalizando-os para um formato consistente. Essa é
funcionalidade legal, pois ela permite dados de um campo particular ser inserido
de diversas formas, sempre resultando numa saída consistente.</p>
<p>Por exemplo, <tt class="docutils literal"><span class="pre">DateField</span></tt> normaliza a entrada num objeto <tt class="docutils literal"><span class="pre">datetime.date</span></tt> do
Python. Indiferentemente de você passar a ele uma string no formato
<tt class="docutils literal"><span class="pre">'1994-07-15'</span></tt>, um objeto <tt class="docutils literal"><span class="pre">datetime.date</span></tt> ou um número de outros formatos,
<tt class="docutils literal"><span class="pre">DateField</span></tt> sempre será normalizado para um objeto <tt class="docutils literal"><span class="pre">datetime.date</span></tt> assim
que ele for validado.</p>
<p>Uma vez que você tenha criado uma instância do <tt class="docutils literal"><span class="pre">Form</span></tt> com um conjunto de dados
e validado-os, você pode acessar os dados limpos via atributo <tt class="docutils literal"><span class="pre">cleaned_data</span></tt>
do objeto <tt class="docutils literal"><span class="pre">Form</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;subject&#39;</span><span class="p">:</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s">&#39;message&#39;</span><span class="p">:</span> <span class="s">&#39;Hi there&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s">&#39;sender&#39;</span><span class="p">:</span> <span class="s">&#39;foo@example.com&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s">&#39;cc_myself&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">is_valid</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">cleaned_data</span>
<span class="go">{&#39;cc_myself&#39;: True, &#39;message&#39;: u&#39;Hi there&#39;, &#39;sender&#39;: u&#39;foo@example.com&#39;, &#39;subject&#39;: u&#39;hello&#39;}</span>
</pre></div>
</div>
<div class="versionchanged">
<span class="title">Changed in Django 1.0:</span> The <tt class="docutils literal"><span class="pre">cleaned_data</span></tt> attribute was called <tt class="docutils literal"><span class="pre">clean_data</span></tt> in earlier releases.</div>
<p>Note que qualquer campo baseado em texto -- como um <tt class="docutils literal"><span class="pre">CharField</span></tt> ou
<tt class="docutils literal"><span class="pre">EmailField</span></tt> -- sempre limpa a entrada numa string Unicode. Nós iremos cobrir
as implicações da codificação mais tarde nesse documento.</p>
<p>Se seus dados <em>não</em> validam, sua instância do <tt class="docutils literal"><span class="pre">Form</span></tt> não terá um atributo
<tt class="docutils literal"><span class="pre">cleaned_data</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;subject&#39;</span><span class="p">:</span> <span class="s">&#39;&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s">&#39;message&#39;</span><span class="p">:</span> <span class="s">&#39;Hi there&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s">&#39;sender&#39;</span><span class="p">:</span> <span class="s">&#39;invalid e-mail address&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s">&#39;cc_myself&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">is_valid</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">cleaned_data</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">AttributeError</span>: <span class="n">&#39;ContactForm&#39; object has no attribute &#39;cleaned_data&#39;</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">cleaned_data</span></tt> sempre conterá <em>somente</em> uma chave para campos definidos no
<tt class="docutils literal"><span class="pre">Form</span></tt>, mesmo se você passar um dados extra quando você definir o <tt class="docutils literal"><span class="pre">Form</span></tt>.
Neste exemplo, nós passamos um grupo de campos extras ao construtor do
<tt class="docutils literal"><span class="pre">ContactForm</span></tt>, mas o <tt class="docutils literal"><span class="pre">cleaned_data</span></tt> contém somente os campos do formulário:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;subject&#39;</span><span class="p">:</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s">&#39;message&#39;</span><span class="p">:</span> <span class="s">&#39;Hi there&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s">&#39;sender&#39;</span><span class="p">:</span> <span class="s">&#39;foo@example.com&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s">&#39;cc_myself&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s">&#39;extra_field_1&#39;</span><span class="p">:</span> <span class="s">&#39;foo&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s">&#39;extra_field_2&#39;</span><span class="p">:</span> <span class="s">&#39;bar&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s">&#39;extra_field_3&#39;</span><span class="p">:</span> <span class="s">&#39;baz&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">is_valid</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">cleaned_data</span> <span class="c"># Doesn&#39;t contain extra_field_1, etc.</span>
<span class="go">{&#39;cc_myself&#39;: True, &#39;message&#39;: u&#39;Hi there&#39;, &#39;sender&#39;: u&#39;foo@example.com&#39;, &#39;subject&#39;: u&#39;hello&#39;}</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">cleanded_data</span></tt> incluirá uma chave e um valor para <em>todos</em> os campos definidos
no <tt class="docutils literal"><span class="pre">Form</span></tt>, mesmo se os dados não incluem um valor por campo, pois isso não é
obrigatório. Neste exemplo, o dicionário de dados não inclui um valor para o
campo <tt class="docutils literal"><span class="pre">nick_name</span></tt>, mas <tt class="docutils literal"><span class="pre">cleaned_data</span></tt> o inclui, com um valor vazio:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">OptionalPersonForm</span><span class="p">(</span><span class="n">Form</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">first_name</span> <span class="o">=</span> <span class="n">CharField</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">last_name</span> <span class="o">=</span> <span class="n">CharField</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">nick_name</span> <span class="o">=</span> <span class="n">CharField</span><span class="p">(</span><span class="n">required</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;first_name&#39;</span><span class="p">:</span> <span class="s">u&#39;John&#39;</span><span class="p">,</span> <span class="s">&#39;last_name&#39;</span><span class="p">:</span> <span class="s">u&#39;Lennon&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">OptionalPersonForm</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">is_valid</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">cleaned_data</span>
<span class="go">{&#39;nick_name&#39;: u&#39;&#39;, &#39;first_name&#39;: u&#39;John&#39;, &#39;last_name&#39;: u&#39;Lennon&#39;}</span>
</pre></div>
</div>
<p>Neste exemplo acima, o valor <tt class="docutils literal"><span class="pre">cleaned_data</span></tt> para <tt class="docutils literal"><span class="pre">nick_name</span></tt> é setado para
uma estring vazia, porque o <tt class="docutils literal"><span class="pre">nick_name</span></tt> é <tt class="docutils literal"><span class="pre">CharField</span></tt>, e <tt class="docutils literal"><span class="pre">CharField</span></tt>s
tratam valores vazios como uma string vazia. Cada tipo de campo sabe como seus
valores &quot;brancos&quot; são -- e.g., para <tt class="docutils literal"><span class="pre">DateField</span></tt>, ele é <tt class="xref docutils literal"><span class="pre">None</span></tt> ao invés de
uma string vazia. Para detalhes completos sobre cada comportamento de campo
neste caso, veja a nota &quot;Valor vazio&quot; para cada campos na seção &quot;classes
<tt class="docutils literal"><span class="pre">Field</span></tt> embutidas&quot; abaixo.</p>
<p>Você pode escrever código para executar validação para campos de formulário
específicos (baseados nos seus nomes) ou para um formulário como um todo
(considerando combinações de vários campos). Mais informações sobre isso está
em <a class="reference internal" href="validation.html#ref-forms-validation"><em>Validação de campos e formulários</em></a>.</p>
</div>
<div class="section" id="s-mostrando-os-formularios-como-html">
<span id="mostrando-os-formularios-como-html"></span><h2>Mostrando os formulários como HTML<a class="headerlink" href="#mostrando-os-formularios-como-html" title="Permalink to this headline">¶</a></h2>
<p>A segunda tarefa de um objeto <tt class="docutils literal"><span class="pre">Form</span></tt> é renderizar a si mesmo como HTML. Para
fazê-lo, simplesmente chame <tt class="docutils literal"><span class="pre">print</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">f</span>
<span class="go">&lt;tr&gt;&lt;th&gt;&lt;label for=&quot;id_subject&quot;&gt;Subject:&lt;/label&gt;&lt;/th&gt;&lt;td&gt;&lt;input id=&quot;id_subject&quot; type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;&lt;label for=&quot;id_message&quot;&gt;Message:&lt;/label&gt;&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;message&quot; id=&quot;id_message&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;&lt;label for=&quot;id_sender&quot;&gt;Sender:&lt;/label&gt;&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;sender&quot; id=&quot;id_sender&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;&lt;label for=&quot;id_cc_myself&quot;&gt;Cc myself:&lt;/label&gt;&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;checkbox&quot; name=&quot;cc_myself&quot; id=&quot;id_cc_myself&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
</pre></div>
</div>
<p>Se o formulário está preenchido com dados, a saída HTML incluirá esses dados
apropriadamente. Por exemplo, se um campo é representado por um
<tt class="docutils literal"><span class="pre">&lt;input</span> <span class="pre">type=&quot;text&quot;&gt;</span></tt>, o dados estará no atributo <tt class="docutils literal"><span class="pre">value</span></tt>. Se um campo é
representado por um <tt class="docutils literal"><span class="pre">&lt;input</span> <span class="pre">type=&quot;checkbox&quot;&gt;</span></tt>, quando este HTML incluir
<tt class="docutils literal"><span class="pre">checked=&quot;checked&quot;</span></tt> se apropriado:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;subject&#39;</span><span class="p">:</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s">&#39;message&#39;</span><span class="p">:</span> <span class="s">&#39;Hi there&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s">&#39;sender&#39;</span><span class="p">:</span> <span class="s">&#39;foo@example.com&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s">&#39;cc_myself&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">f</span>
<span class="go">&lt;tr&gt;&lt;th&gt;&lt;label for=&quot;id_subject&quot;&gt;Subject:&lt;/label&gt;&lt;/th&gt;&lt;td&gt;&lt;input id=&quot;id_subject&quot; type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; value=&quot;hello&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;&lt;label for=&quot;id_message&quot;&gt;Message:&lt;/label&gt;&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;message&quot; id=&quot;id_message&quot; value=&quot;Hi there&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;&lt;label for=&quot;id_sender&quot;&gt;Sender:&lt;/label&gt;&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;sender&quot; id=&quot;id_sender&quot; value=&quot;foo@example.com&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;&lt;label for=&quot;id_cc_myself&quot;&gt;Cc myself:&lt;/label&gt;&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;checkbox&quot; name=&quot;cc_myself&quot; id=&quot;id_cc_myself&quot; checked=&quot;checked&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
</pre></div>
</div>
<p>Esta saída padrão é um tabela HTML com duas colunas, com um <tt class="docutils literal"><span class="pre">&lt;tr&gt;</span></tt> para cada
campo: Note o seguinte:</p>
<ul class="simple">
<li>Para flexibilidade, a saída <em>não</em> incluí as tags <tt class="docutils literal"><span class="pre">&lt;table&gt;</span></tt> e
<tt class="docutils literal"><span class="pre">&lt;/table&gt;</span></tt>, nem incluí as tags <tt class="docutils literal"><span class="pre">&lt;form&gt;</span></tt> <tt class="docutils literal"><span class="pre">&lt;/form&gt;</span></tt> ou um
<tt class="docutils literal"><span class="pre">&lt;input</span> <span class="pre">type=&quot;submit&quot;&gt;</span></tt>. É seu trabalho fazer isso.</li>
<li>Cada tipo de campo tem uma representação padrão do HTML. <tt class="docutils literal"><span class="pre">CharField</span></tt> e
<tt class="docutils literal"><span class="pre">EmailField</span></tt> são representado por um <tt class="docutils literal"><span class="pre">&lt;input</span> <span class="pre">type=&quot;text&quot;&gt;</span></tt>. O
<tt class="docutils literal"><span class="pre">BooleanField</span></tt> é representado por um <tt class="docutils literal"><span class="pre">&lt;input</span> <span class="pre">type=&quot;checkbox&quot;&gt;</span></tt>. Note
estes são simplesmente padrões sensiveis; você pode especificar qual HTML
usar para um dado campo usando widgets, que nós explanaremos logo.</li>
<li>O <tt class="docutils literal"><span class="pre">nome</span></tt> de cada tag HTML é dado diretamente por seu atributo name na
classe <tt class="docutils literal"><span class="pre">ContactForm</span></tt>.</li>
<li>O texto da label de cada campo -- e.g. <tt class="docutils literal"><span class="pre">'Subject:'</span></tt>, <tt class="docutils literal"><span class="pre">'Message:'</span></tt> e
<tt class="docutils literal"><span class="pre">'Cc</span> <span class="pre">myself:'</span></tt> é gerado a partir do nome do campo convertendo todos os
undersocres em espaços e capitalizando a primeira letra. Novamente,
perceba que estes são meramente padrões sensíveis; você pode também
especificar labels manualmente.</li>
<li>Cada texto de label é envolvido por uma tag HTML <tt class="docutils literal"><span class="pre">&lt;label&gt;</span></tt>, que aponta
para o campo de formulário apropriado, via <tt class="docutils literal"><span class="pre">id</span></tt> do campo. Seu <tt class="docutils literal"><span class="pre">id</span></tt>,
por sua vez, é gerado prefixado por um <tt class="docutils literal"><span class="pre">'id_'</span></tt> no nome do campo. Os
atributo <tt class="docutils literal"><span class="pre">id</span></tt> e tag <tt class="docutils literal"><span class="pre">&lt;label&gt;</span></tt> são incluídos na saída por padrão,
seguindo as melhores práticas, mas você pode mudar este comportamento.</li>
</ul>
<p>Embora a saída <tt class="docutils literal"><span class="pre">&lt;table&gt;</span></tt> seja o estilo de saída padrão quando você <tt class="docutils literal"><span class="pre">imprime</span></tt>
um formulário, outros estilos de saídas estão disponíveis. Cada estilo está
disponível como um método no objeto form, e cada método de renderização retorna
um objeto Unicode.</p>
<div class="section" id="s-as-p">
<span id="as-p"></span><h3><tt class="docutils literal"><span class="pre">as_p()</span></tt><a class="headerlink" href="#as-p" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">Form.as_p()</span></tt> renderiza o formulário como uma série de tags <tt class="docutils literal"><span class="pre">&lt;p&gt;</span></tt>, com cada
<tt class="docutils literal"><span class="pre">&lt;p&gt;</span></tt> contendo um campo:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">as_p</span><span class="p">()</span>
<span class="go">u&#39;&lt;p&gt;&lt;label for=&quot;id_subject&quot;&gt;Subject:&lt;/label&gt; &lt;input id=&quot;id_subject&quot; type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; /&gt;&lt;/p&gt;\n&lt;p&gt;&lt;label for=&quot;id_message&quot;&gt;Message:&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;message&quot; id=&quot;id_message&quot; /&gt;&lt;/p&gt;\n&lt;p&gt;&lt;label for=&quot;id_sender&quot;&gt;Sender:&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;sender&quot; id=&quot;id_sender&quot; /&gt;&lt;/p&gt;\n&lt;p&gt;&lt;label for=&quot;id_cc_myself&quot;&gt;Cc myself:&lt;/label&gt; &lt;input type=&quot;checkbox&quot; name=&quot;cc_myself&quot; id=&quot;id_cc_myself&quot; /&gt;&lt;/p&gt;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">f</span><span class="o">.</span><span class="n">as_p</span><span class="p">()</span>
<span class="go">&lt;p&gt;&lt;label for=&quot;id_subject&quot;&gt;Subject:&lt;/label&gt; &lt;input id=&quot;id_subject&quot; type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; /&gt;&lt;/p&gt;</span>
<span class="go">&lt;p&gt;&lt;label for=&quot;id_message&quot;&gt;Message:&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;message&quot; id=&quot;id_message&quot; /&gt;&lt;/p&gt;</span>
<span class="go">&lt;p&gt;&lt;label for=&quot;id_sender&quot;&gt;Sender:&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;sender&quot; id=&quot;id_sender&quot; /&gt;&lt;/p&gt;</span>
<span class="go">&lt;p&gt;&lt;label for=&quot;id_cc_myself&quot;&gt;Cc myself:&lt;/label&gt; &lt;input type=&quot;checkbox&quot; name=&quot;cc_myself&quot; id=&quot;id_cc_myself&quot; /&gt;&lt;/p&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="s-as-ul">
<span id="as-ul"></span><h3><tt class="docutils literal"><span class="pre">as_ul()</span></tt><a class="headerlink" href="#as-ul" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">Form.as_ul()</span></tt> renderiza o formulário como uma séria de tags <tt class="docutils literal"><span class="pre">&lt;li&gt;</span></tt>, com
cada <tt class="docutils literal"><span class="pre">&lt;li&gt;</span></tt> contendo um campo. Ele <em>não</em> inclui as tags <tt class="docutils literal"><span class="pre">&lt;ul&gt;</span></tt> ou <tt class="docutils literal"><span class="pre">&lt;/ul&gt;</span></tt>,
então você pode especificar quaisquer atributos sobre o <tt class="docutils literal"><span class="pre">&lt;ul&gt;</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">as_ul</span><span class="p">()</span>
<span class="go">u&#39;&lt;li&gt;&lt;label for=&quot;id_subject&quot;&gt;Subject:&lt;/label&gt; &lt;input id=&quot;id_subject&quot; type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; /&gt;&lt;/li&gt;\n&lt;li&gt;&lt;label for=&quot;id_message&quot;&gt;Message:&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;message&quot; id=&quot;id_message&quot; /&gt;&lt;/li&gt;\n&lt;li&gt;&lt;label for=&quot;id_sender&quot;&gt;Sender:&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;sender&quot; id=&quot;id_sender&quot; /&gt;&lt;/li&gt;\n&lt;li&gt;&lt;label for=&quot;id_cc_myself&quot;&gt;Cc myself:&lt;/label&gt; &lt;input type=&quot;checkbox&quot; name=&quot;cc_myself&quot; id=&quot;id_cc_myself&quot; /&gt;&lt;/li&gt;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">f</span><span class="o">.</span><span class="n">as_ul</span><span class="p">()</span>
<span class="go">&lt;li&gt;&lt;label for=&quot;id_subject&quot;&gt;Subject:&lt;/label&gt; &lt;input id=&quot;id_subject&quot; type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; /&gt;&lt;/li&gt;</span>
<span class="go">&lt;li&gt;&lt;label for=&quot;id_message&quot;&gt;Message:&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;message&quot; id=&quot;id_message&quot; /&gt;&lt;/li&gt;</span>
<span class="go">&lt;li&gt;&lt;label for=&quot;id_sender&quot;&gt;Sender:&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;sender&quot; id=&quot;id_sender&quot; /&gt;&lt;/li&gt;</span>
<span class="go">&lt;li&gt;&lt;label for=&quot;id_cc_myself&quot;&gt;Cc myself:&lt;/label&gt; &lt;input type=&quot;checkbox&quot; name=&quot;cc_myself&quot; id=&quot;id_cc_myself&quot; /&gt;&lt;/li&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="s-as-table">
<span id="as-table"></span><h3><tt class="docutils literal"><span class="pre">as_table()</span></tt><a class="headerlink" href="#as-table" title="Permalink to this headline">¶</a></h3>
<p>Finalmente, <tt class="docutils literal"><span class="pre">Form.as_table()</span></tt> mostar o formulário como uma <tt class="docutils literal"><span class="pre">&lt;table&gt;</span></tt> HTML.
Isso é exatamente o mesmo que o <tt class="docutils literal"><span class="pre">print</span></tt>. De fato, quando você executa um
<tt class="docutils literal"><span class="pre">print</span></tt> um objeto form, ele chama seu método <tt class="docutils literal"><span class="pre">as_table()</span></tt> por trás das
cenas:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">as_table</span><span class="p">()</span>
<span class="go">u&#39;&lt;tr&gt;&lt;th&gt;&lt;label for=&quot;id_subject&quot;&gt;Subject:&lt;/label&gt;&lt;/th&gt;&lt;td&gt;&lt;input id=&quot;id_subject&quot; type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;th&gt;&lt;label for=&quot;id_message&quot;&gt;Message:&lt;/label&gt;&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;message&quot; id=&quot;id_message&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;th&gt;&lt;label for=&quot;id_sender&quot;&gt;Sender:&lt;/label&gt;&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;sender&quot; id=&quot;id_sender&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;th&gt;&lt;label for=&quot;id_cc_myself&quot;&gt;Cc myself:&lt;/label&gt;&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;checkbox&quot; name=&quot;cc_myself&quot; id=&quot;id_cc_myself&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">f</span><span class="o">.</span><span class="n">as_table</span><span class="p">()</span>
<span class="go">&lt;tr&gt;&lt;th&gt;&lt;label for=&quot;id_subject&quot;&gt;Subject:&lt;/label&gt;&lt;/th&gt;&lt;td&gt;&lt;input id=&quot;id_subject&quot; type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;&lt;label for=&quot;id_message&quot;&gt;Message:&lt;/label&gt;&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;message&quot; id=&quot;id_message&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;&lt;label for=&quot;id_sender&quot;&gt;Sender:&lt;/label&gt;&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;sender&quot; id=&quot;id_sender&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;&lt;label for=&quot;id_cc_myself&quot;&gt;Cc myself:&lt;/label&gt;&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;checkbox&quot; name=&quot;cc_myself&quot; id=&quot;id_cc_myself&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="s-configurando-tags-html-label">
<span id="s-ref-forms-api-configuring-label"></span><span id="configurando-tags-html-label"></span><span id="ref-forms-api-configuring-label"></span><h3>Configurando tags HTML <tt class="docutils literal"><span class="pre">&lt;label&gt;</span></tt><a class="headerlink" href="#configurando-tags-html-label" title="Permalink to this headline">¶</a></h3>
<p>Uma tag HTML <tt class="docutils literal"><span class="pre">&lt;label&gt;</span></tt> designa que um texto está associado a um elemento do
formulário. Este pequeno reforço faz o formulário mais usável e acessível para
dispositivos de assistência. É sempre uma boa idéia usar as tags <tt class="docutils literal"><span class="pre">&lt;label&gt;</span></tt>.</p>
<p>Por padrão, os métodos de renderização incluem atributos <tt class="docutils literal"><span class="pre">id</span></tt> aos elementos do
formulário e envolvem as labels com tags <tt class="docutils literal"><span class="pre">&lt;label&gt;</span></tt>. O atributo <tt class="docutils literal"><span class="pre">id</span></tt> terá seu
valor gerado prefixando os nomes dos campos com um <tt class="docutils literal"><span class="pre">'id_'</span></tt>. Este comportamento
é configurável, contudo, se você desejar mudar a convenção do <tt class="docutils literal"><span class="pre">id</span></tt> ou remover
os atributos <tt class="docutils literal"><span class="pre">id</span></tt> do HTML e as tags <tt class="docutils literal"><span class="pre">&lt;label&gt;</span></tt> inteiramente.</p>
<p>use o argumento <tt class="docutils literal"><span class="pre">auto_id</span></tt> no construtor do <tt class="docutils literal"><span class="pre">Form</span></tt> para controlar o
comportamento das labels e <tt class="docutils literal"><span class="pre">id</span></tt>. Este argumento deve ser <tt class="xref docutils literal"><span class="pre">True</span></tt>, <tt class="xref docutils literal"><span class="pre">False</span></tt>
ou uma string.</p>
<p>Se o <tt class="docutils literal"><span class="pre">auto_id</span></tt> for <tt class="xref docutils literal"><span class="pre">False</span></tt>, então o formulário mostrado não incluirá tags
<tt class="docutils literal"><span class="pre">&lt;label&gt;</span></tt> nem atributos <tt class="docutils literal"><span class="pre">id</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">auto_id</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">f</span><span class="o">.</span><span class="n">as_table</span><span class="p">()</span>
<span class="go">&lt;tr&gt;&lt;th&gt;Subject:&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;Message:&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;message&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;Sender:&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;sender&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;Cc myself:&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;checkbox&quot; name=&quot;cc_myself&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">f</span><span class="o">.</span><span class="n">as_ul</span><span class="p">()</span>
<span class="go">&lt;li&gt;Subject: &lt;input type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; /&gt;&lt;/li&gt;</span>
<span class="go">&lt;li&gt;Message: &lt;input type=&quot;text&quot; name=&quot;message&quot; /&gt;&lt;/li&gt;</span>
<span class="go">&lt;li&gt;Sender: &lt;input type=&quot;text&quot; name=&quot;sender&quot; /&gt;&lt;/li&gt;</span>
<span class="go">&lt;li&gt;Cc myself: &lt;input type=&quot;checkbox&quot; name=&quot;cc_myself&quot; /&gt;&lt;/li&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">f</span><span class="o">.</span><span class="n">as_p</span><span class="p">()</span>
<span class="go">&lt;p&gt;Subject: &lt;input type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; /&gt;&lt;/p&gt;</span>
<span class="go">&lt;p&gt;Message: &lt;input type=&quot;text&quot; name=&quot;message&quot; /&gt;&lt;/p&gt;</span>
<span class="go">&lt;p&gt;Sender: &lt;input type=&quot;text&quot; name=&quot;sender&quot; /&gt;&lt;/p&gt;</span>
<span class="go">&lt;p&gt;Cc myself: &lt;input type=&quot;checkbox&quot; name=&quot;cc_myself&quot; /&gt;&lt;/p&gt;</span>
</pre></div>
</div>
<p>Se o <tt class="docutils literal"><span class="pre">auto_id</span></tt> for <tt class="xref docutils literal"><span class="pre">True</span></tt>, então o formulário mostrado <strong>incluirá</strong> tags
<tt class="docutils literal"><span class="pre">&lt;label&gt;</span></tt> e simplesmente usará o  nome dos campos como seu <tt class="docutils literal"><span class="pre">id</span></tt> para cada
campo do formulário:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">auto_id</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">f</span><span class="o">.</span><span class="n">as_table</span><span class="p">()</span>
<span class="go">&lt;tr&gt;&lt;th&gt;&lt;label for=&quot;subject&quot;&gt;Subject:&lt;/label&gt;&lt;/th&gt;&lt;td&gt;&lt;input id=&quot;subject&quot; type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;&lt;label for=&quot;message&quot;&gt;Message:&lt;/label&gt;&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;message&quot; id=&quot;message&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;&lt;label for=&quot;sender&quot;&gt;Sender:&lt;/label&gt;&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;sender&quot; id=&quot;sender&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;&lt;label for=&quot;cc_myself&quot;&gt;Cc myself:&lt;/label&gt;&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;checkbox&quot; name=&quot;cc_myself&quot; id=&quot;cc_myself&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">f</span><span class="o">.</span><span class="n">as_ul</span><span class="p">()</span>
<span class="go">&lt;li&gt;&lt;label for=&quot;subject&quot;&gt;Subject:&lt;/label&gt; &lt;input id=&quot;subject&quot; type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; /&gt;&lt;/li&gt;</span>
<span class="go">&lt;li&gt;&lt;label for=&quot;message&quot;&gt;Message:&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;message&quot; id=&quot;message&quot; /&gt;&lt;/li&gt;</span>
<span class="go">&lt;li&gt;&lt;label for=&quot;sender&quot;&gt;Sender:&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;sender&quot; id=&quot;sender&quot; /&gt;&lt;/li&gt;</span>
<span class="go">&lt;li&gt;&lt;label for=&quot;cc_myself&quot;&gt;Cc myself:&lt;/label&gt; &lt;input type=&quot;checkbox&quot; name=&quot;cc_myself&quot; id=&quot;cc_myself&quot; /&gt;&lt;/li&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">f</span><span class="o">.</span><span class="n">as_p</span><span class="p">()</span>
<span class="go">&lt;p&gt;&lt;label for=&quot;subject&quot;&gt;Subject:&lt;/label&gt; &lt;input id=&quot;subject&quot; type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; /&gt;&lt;/p&gt;</span>
<span class="go">&lt;p&gt;&lt;label for=&quot;message&quot;&gt;Message:&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;message&quot; id=&quot;message&quot; /&gt;&lt;/p&gt;</span>
<span class="go">&lt;p&gt;&lt;label for=&quot;sender&quot;&gt;Sender:&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;sender&quot; id=&quot;sender&quot; /&gt;&lt;/p&gt;</span>
<span class="go">&lt;p&gt;&lt;label for=&quot;cc_myself&quot;&gt;Cc myself:&lt;/label&gt; &lt;input type=&quot;checkbox&quot; name=&quot;cc_myself&quot; id=&quot;cc_myself&quot; /&gt;&lt;/p&gt;</span>
</pre></div>
</div>
<p>Se <tt class="docutils literal"><span class="pre">auto_id</span></tt> for uma string contendo o caracter de formatação <tt class="docutils literal"><span class="pre">'%s'</span></tt>, então
o formulário mostrado incluirá as tags <tt class="docutils literal"><span class="pre">&lt;label&gt;</span></tt>, e será gerado um atributo
<tt class="docutils literal"><span class="pre">id</span></tt> baseado na string passada. Por exemplo, para uma string de formatação
<tt class="docutils literal"><span class="pre">'field_%s'</span></tt>, um nome de campo <tt class="docutils literal"><span class="pre">subject</span></tt> terá o valor do <tt class="docutils literal"><span class="pre">id</span></tt> igual a
<tt class="docutils literal"><span class="pre">'field_subject'</span></tt>. Continuando nosso exemplo:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">auto_id</span><span class="o">=</span><span class="s">&#39;id_for_</span><span class="si">%s</span><span class="s">&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">f</span><span class="o">.</span><span class="n">as_table</span><span class="p">()</span>
<span class="go">&lt;tr&gt;&lt;th&gt;&lt;label for=&quot;id_for_subject&quot;&gt;Subject:&lt;/label&gt;&lt;/th&gt;&lt;td&gt;&lt;input id=&quot;id_for_subject&quot; type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;&lt;label for=&quot;id_for_message&quot;&gt;Message:&lt;/label&gt;&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;message&quot; id=&quot;id_for_message&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;&lt;label for=&quot;id_for_sender&quot;&gt;Sender:&lt;/label&gt;&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;sender&quot; id=&quot;id_for_sender&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;&lt;label for=&quot;id_for_cc_myself&quot;&gt;Cc myself:&lt;/label&gt;&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;checkbox&quot; name=&quot;cc_myself&quot; id=&quot;id_for_cc_myself&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">f</span><span class="o">.</span><span class="n">as_ul</span><span class="p">()</span>
<span class="go">&lt;li&gt;&lt;label for=&quot;id_for_subject&quot;&gt;Subject:&lt;/label&gt; &lt;input id=&quot;id_for_subject&quot; type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; /&gt;&lt;/li&gt;</span>
<span class="go">&lt;li&gt;&lt;label for=&quot;id_for_message&quot;&gt;Message:&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;message&quot; id=&quot;id_for_message&quot; /&gt;&lt;/li&gt;</span>
<span class="go">&lt;li&gt;&lt;label for=&quot;id_for_sender&quot;&gt;Sender:&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;sender&quot; id=&quot;id_for_sender&quot; /&gt;&lt;/li&gt;</span>
<span class="go">&lt;li&gt;&lt;label for=&quot;id_for_cc_myself&quot;&gt;Cc myself:&lt;/label&gt; &lt;input type=&quot;checkbox&quot; name=&quot;cc_myself&quot; id=&quot;id_for_cc_myself&quot; /&gt;&lt;/li&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">f</span><span class="o">.</span><span class="n">as_p</span><span class="p">()</span>
<span class="go">&lt;p&gt;&lt;label for=&quot;id_for_subject&quot;&gt;Subject:&lt;/label&gt; &lt;input id=&quot;id_for_subject&quot; type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; /&gt;&lt;/p&gt;</span>
<span class="go">&lt;p&gt;&lt;label for=&quot;id_for_message&quot;&gt;Message:&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;message&quot; id=&quot;id_for_message&quot; /&gt;&lt;/p&gt;</span>
<span class="go">&lt;p&gt;&lt;label for=&quot;id_for_sender&quot;&gt;Sender:&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;sender&quot; id=&quot;id_for_sender&quot; /&gt;&lt;/p&gt;</span>
<span class="go">&lt;p&gt;&lt;label for=&quot;id_for_cc_myself&quot;&gt;Cc myself:&lt;/label&gt; &lt;input type=&quot;checkbox&quot; name=&quot;cc_myself&quot; id=&quot;id_for_cc_myself&quot; /&gt;&lt;/p&gt;</span>
</pre></div>
</div>
<p>Se o <tt class="docutils literal"><span class="pre">auto_id</span></tt> for setado para qualquer outro valor verdadeiro -- como uma
string que não inclui <tt class="docutils literal"><span class="pre">%s</span></tt> -- então a biblioteca agirá como se o <tt class="docutils literal"><span class="pre">auto_id</span></tt>
fosse <tt class="xref docutils literal"><span class="pre">True</span></tt>.</p>
<p>Por padrão, <tt class="docutils literal"><span class="pre">auto_id</span></tt> é setado como uma string <tt class="docutils literal"><span class="pre">'id_%s'</span></tt>.</p>
<p>Normalmente, dois pontos (<tt class="docutils literal"><span class="pre">:</span></tt>) serão adicionados após qualquer nome de label
quando um formulário for renderizado. É possível mudar os dois pontos por outro
caracter, ou omiti-lo inteiramente, usando o paramêtro <tt class="docutils literal"><span class="pre">label_suffix</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">auto_id</span><span class="o">=</span><span class="s">&#39;id_for_</span><span class="si">%s</span><span class="s">&#39;</span><span class="p">,</span> <span class="n">label_suffix</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">f</span><span class="o">.</span><span class="n">as_ul</span><span class="p">()</span>
<span class="go">&lt;li&gt;&lt;label for=&quot;id_for_subject&quot;&gt;Subject&lt;/label&gt; &lt;input id=&quot;id_for_subject&quot; type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; /&gt;&lt;/li&gt;</span>
<span class="go">&lt;li&gt;&lt;label for=&quot;id_for_message&quot;&gt;Message&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;message&quot; id=&quot;id_for_message&quot; /&gt;&lt;/li&gt;</span>
<span class="go">&lt;li&gt;&lt;label for=&quot;id_for_sender&quot;&gt;Sender&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;sender&quot; id=&quot;id_for_sender&quot; /&gt;&lt;/li&gt;</span>
<span class="go">&lt;li&gt;&lt;label for=&quot;id_for_cc_myself&quot;&gt;Cc myself&lt;/label&gt; &lt;input type=&quot;checkbox&quot; name=&quot;cc_myself&quot; id=&quot;id_for_cc_myself&quot; /&gt;&lt;/li&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">auto_id</span><span class="o">=</span><span class="s">&#39;id_for_</span><span class="si">%s</span><span class="s">&#39;</span><span class="p">,</span> <span class="n">label_suffix</span><span class="o">=</span><span class="s">&#39; -&gt;&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">f</span><span class="o">.</span><span class="n">as_ul</span><span class="p">()</span>
<span class="go">&lt;li&gt;&lt;label for=&quot;id_for_subject&quot;&gt;Subject -&gt;&lt;/label&gt; &lt;input id=&quot;id_for_subject&quot; type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; /&gt;&lt;/li&gt;</span>
<span class="go">&lt;li&gt;&lt;label for=&quot;id_for_message&quot;&gt;Message -&gt;&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;message&quot; id=&quot;id_for_message&quot; /&gt;&lt;/li&gt;</span>
<span class="go">&lt;li&gt;&lt;label for=&quot;id_for_sender&quot;&gt;Sender -&gt;&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;sender&quot; id=&quot;id_for_sender&quot; /&gt;&lt;/li&gt;</span>
<span class="go">&lt;li&gt;&lt;label for=&quot;id_for_cc_myself&quot;&gt;Cc myself -&gt;&lt;/label&gt; &lt;input type=&quot;checkbox&quot; name=&quot;cc_myself&quot; id=&quot;id_for_cc_myself&quot; /&gt;&lt;/li&gt;</span>
</pre></div>
</div>
<p>Note que o sufixo da label é adicionado somente se o último caracter da label
não é um caracter de pontuação (<tt class="docutils literal"><span class="pre">.</span></tt>, <tt class="docutils literal"><span class="pre">!</span></tt>, <tt class="docutils literal"><span class="pre">?</span></tt> or <tt class="docutils literal"><span class="pre">:</span></tt>)</p>
</div>
<div class="section" id="s-notas-sobre-o-campo-de-ordenacao">
<span id="notas-sobre-o-campo-de-ordenacao"></span><h3>Notas sobre o campo de ordenação<a class="headerlink" href="#notas-sobre-o-campo-de-ordenacao" title="Permalink to this headline">¶</a></h3>
<p>Nos atalhos <tt class="docutils literal"><span class="pre">as_p()</span></tt>, <tt class="docutils literal"><span class="pre">as_ul()</span></tt> e <tt class="docutils literal"><span class="pre">as_table()</span></tt>, os campos são mostrados na
ordem em que você definir na sua classe form. Por exemplo, no exemplo
<tt class="docutils literal"><span class="pre">ContactForm</span></tt>, os campos são definidos nessa ordem: <tt class="docutils literal"><span class="pre">subject</span></tt>, <tt class="docutils literal"><span class="pre">message</span></tt>,
<tt class="docutils literal"><span class="pre">sender</span></tt>, <tt class="docutils literal"><span class="pre">cc_myself</span></tt>. Para re-ordenar a saída HTML, é só mudar a ordem em
que esses campos foram listados na classe.</p>
</div>
<div class="section" id="s-como-os-erros-sao-mostrados">
<span id="como-os-erros-sao-mostrados"></span><h3>Como os erros são mostrados<a class="headerlink" href="#como-os-erros-sao-mostrados" title="Permalink to this headline">¶</a></h3>
<p>Se você renderiza um objeto <tt class="docutils literal"><span class="pre">Form</span></tt> bound, o ato de renderizar executará
automaticamente a validação do formulário, caso ela ainda não tenha sido feita,
e a saída HTML incluirá os erros de validação como um <tt class="docutils literal"><span class="pre">&lt;ul</span> <span class="pre">class=&quot;errorlist&quot;&gt;</span></tt>
perto de cada campo. O posicionamento das mensagens de erro depende da saída do
método que você estiver usando:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;subject&#39;</span><span class="p">:</span> <span class="s">&#39;&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s">&#39;message&#39;</span><span class="p">:</span> <span class="s">&#39;Hi there&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s">&#39;sender&#39;</span><span class="p">:</span> <span class="s">&#39;invalid e-mail address&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s">&#39;cc_myself&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">auto_id</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">f</span><span class="o">.</span><span class="n">as_table</span><span class="p">()</span>
<span class="go">&lt;tr&gt;&lt;th&gt;Subject:&lt;/th&gt;&lt;td&gt;&lt;ul class=&quot;errorlist&quot;&gt;&lt;li&gt;This field is required.&lt;/li&gt;&lt;/ul&gt;&lt;input type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;Message:&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;message&quot; value=&quot;Hi there&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;Sender:&lt;/th&gt;&lt;td&gt;&lt;ul class=&quot;errorlist&quot;&gt;&lt;li&gt;Enter a valid e-mail address.&lt;/li&gt;&lt;/ul&gt;&lt;input type=&quot;text&quot; name=&quot;sender&quot; value=&quot;invalid e-mail address&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;Cc myself:&lt;/th&gt;&lt;td&gt;&lt;input checked=&quot;checked&quot; type=&quot;checkbox&quot; name=&quot;cc_myself&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">f</span><span class="o">.</span><span class="n">as_ul</span><span class="p">()</span>
<span class="go">&lt;li&gt;&lt;ul class=&quot;errorlist&quot;&gt;&lt;li&gt;This field is required.&lt;/li&gt;&lt;/ul&gt;Subject: &lt;input type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; /&gt;&lt;/li&gt;</span>
<span class="go">&lt;li&gt;Message: &lt;input type=&quot;text&quot; name=&quot;message&quot; value=&quot;Hi there&quot; /&gt;&lt;/li&gt;</span>
<span class="go">&lt;li&gt;&lt;ul class=&quot;errorlist&quot;&gt;&lt;li&gt;Enter a valid e-mail address.&lt;/li&gt;&lt;/ul&gt;Sender: &lt;input type=&quot;text&quot; name=&quot;sender&quot; value=&quot;invalid e-mail address&quot; /&gt;&lt;/li&gt;</span>
<span class="go">&lt;li&gt;Cc myself: &lt;input checked=&quot;checked&quot; type=&quot;checkbox&quot; name=&quot;cc_myself&quot; /&gt;&lt;/li&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">f</span><span class="o">.</span><span class="n">as_p</span><span class="p">()</span>
<span class="go">&lt;p&gt;&lt;ul class=&quot;errorlist&quot;&gt;&lt;li&gt;This field is required.&lt;/li&gt;&lt;/ul&gt;&lt;/p&gt;</span>
<span class="go">&lt;p&gt;Subject: &lt;input type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; /&gt;&lt;/p&gt;</span>
<span class="go">&lt;p&gt;Message: &lt;input type=&quot;text&quot; name=&quot;message&quot; value=&quot;Hi there&quot; /&gt;&lt;/p&gt;</span>
<span class="go">&lt;p&gt;&lt;ul class=&quot;errorlist&quot;&gt;&lt;li&gt;Enter a valid e-mail address.&lt;/li&gt;&lt;/ul&gt;&lt;/p&gt;</span>
<span class="go">&lt;p&gt;Sender: &lt;input type=&quot;text&quot; name=&quot;sender&quot; value=&quot;invalid e-mail address&quot; /&gt;&lt;/p&gt;</span>
<span class="go">&lt;p&gt;Cc myself: &lt;input checked=&quot;checked&quot; type=&quot;checkbox&quot; name=&quot;cc_myself&quot; /&gt;&lt;/p&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="s-personalizacao-do-formato-da-lista-de-erros">
<span id="personalizacao-do-formato-da-lista-de-erros"></span><h3>Personalização do formato da lista de erros<a class="headerlink" href="#personalizacao-do-formato-da-lista-de-erros" title="Permalink to this headline">¶</a></h3>
<p>Por padrão, formulários usam <tt class="docutils literal"><span class="pre">django.forms.util.ErrorList</span></tt> para formatar os
erros de validação. Se você gostaria de usar uma classe alternativa para mostrar
os erros, você pode passá-la na hora da construção:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">django.forms.util</span> <span class="kn">import</span> <span class="n">ErrorList</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">DivErrorList</span><span class="p">(</span><span class="n">ErrorList</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">__unicode__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">as_divs</span><span class="p">()</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">as_divs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="p">:</span> <span class="k">return</span> <span class="s">u&#39;&#39;</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="s">u&#39;&lt;div class=&quot;errorlist&quot;&gt;</span><span class="si">%s</span><span class="s">&lt;/div&gt;&#39;</span> <span class="o">%</span> <span class="s">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s">u&#39;&lt;div class=&quot;error&quot;&gt;</span><span class="si">%s</span><span class="s">&lt;/div&gt;&#39;</span> <span class="o">%</span> <span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">auto_id</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">error_class</span><span class="o">=</span><span class="n">DivErrorList</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">as_p</span><span class="p">()</span>
<span class="go">&lt;div class=&quot;errorlist&quot;&gt;&lt;div class=&quot;error&quot;&gt;This field is required.&lt;/div&gt;&lt;/div&gt;</span>
<span class="go">&lt;p&gt;Subject: &lt;input type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; /&gt;&lt;/p&gt;</span>
<span class="go">&lt;p&gt;Message: &lt;input type=&quot;text&quot; name=&quot;message&quot; value=&quot;Hi there&quot; /&gt;&lt;/p&gt;</span>
<span class="go">&lt;div class=&quot;errorlist&quot;&gt;&lt;div class=&quot;error&quot;&gt;Enter a valid e-mail address.&lt;/div&gt;&lt;/div&gt;</span>
<span class="go">&lt;p&gt;Sender: &lt;input type=&quot;text&quot; name=&quot;sender&quot; value=&quot;invalid e-mail address&quot; /&gt;&lt;/p&gt;</span>
<span class="go">&lt;p&gt;Cc myself: &lt;input checked=&quot;checked&quot; type=&quot;checkbox&quot; name=&quot;cc_myself&quot; /&gt;&lt;/p&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="s-saida-mais-granular">
<span id="saida-mais-granular"></span><h3>Saída mais granular<a class="headerlink" href="#saida-mais-granular" title="Permalink to this headline">¶</a></h3>
<p>Os métodos <tt class="docutils literal"><span class="pre">as_p()</span></tt>, <tt class="docutils literal"><span class="pre">as_ul()</span></tt> e <tt class="docutils literal"><span class="pre">as_table()</span></tt> são simplesmente atalhos
para desenvolvedores preguiçosos -- eles não são a única forma de um objeto form
ser mostrado.</p>
<p>Para mostrar o HTML para um único campo no seu formulário, use a sintaxe de
acesso de dicionário, usando o nome do campo como chave, e imprimindo o
objeto resultante:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">f</span><span class="p">[</span><span class="s">&#39;subject&#39;</span><span class="p">]</span>
<span class="go">&lt;input id=&quot;id_subject&quot; type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; /&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">f</span><span class="p">[</span><span class="s">&#39;message&#39;</span><span class="p">]</span>
<span class="go">&lt;input type=&quot;text&quot; name=&quot;message&quot; id=&quot;id_message&quot; /&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">f</span><span class="p">[</span><span class="s">&#39;sender&#39;</span><span class="p">]</span>
<span class="go">&lt;input type=&quot;text&quot; name=&quot;sender&quot; id=&quot;id_sender&quot; /&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">f</span><span class="p">[</span><span class="s">&#39;cc_myself&#39;</span><span class="p">]</span>
<span class="go">&lt;input type=&quot;checkbox&quot; name=&quot;cc_myself&quot; id=&quot;id_cc_myself&quot; /&gt;</span>
</pre></div>
</div>
<p>Chame <tt class="docutils literal"><span class="pre">str()</span></tt> ou <tt class="docutils literal"><span class="pre">unicode()</span></tt> sobre um campo para obter seu HTML renderizado
como uma string ou objeto Unicode, respectivamente:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="s">&#39;subject&#39;</span><span class="p">])</span>
<span class="go">&#39;&lt;input id=&quot;id_subject&quot; type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; /&gt;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">unicode</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="s">&#39;subject&#39;</span><span class="p">])</span>
<span class="go">u&#39;&lt;input id=&quot;id_subject&quot; type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; /&gt;&#39;</span>
</pre></div>
</div>
<p>Objetos de formulário definem um método personalizado <tt class="docutils literal"><span class="pre">__iter__()</span></tt>, que
permite você iterar sobre seus campos:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span> <span class="k">print</span> <span class="n">field</span>
<span class="go">&lt;input id=&quot;id_subject&quot; type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; /&gt;</span>
<span class="go">&lt;input type=&quot;text&quot; name=&quot;message&quot; id=&quot;id_message&quot; /&gt;</span>
<span class="go">&lt;input type=&quot;text&quot; name=&quot;sender&quot; id=&quot;id_sender&quot; /&gt;</span>
<span class="go">&lt;input type=&quot;checkbox&quot; name=&quot;cc_myself&quot; id=&quot;id_cc_myself&quot; /&gt;</span>
</pre></div>
</div>
<p>A saída de um campo específico honra a configuração <tt class="docutils literal"><span class="pre">auto_id</span></tt> de objetos de
formulários:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">auto_id</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">f</span><span class="p">[</span><span class="s">&#39;message&#39;</span><span class="p">]</span>
<span class="go">&lt;input type=&quot;text&quot; name=&quot;message&quot; /&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">auto_id</span><span class="o">=</span><span class="s">&#39;id_</span><span class="si">%s</span><span class="s">&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">f</span><span class="p">[</span><span class="s">&#39;message&#39;</span><span class="p">]</span>
<span class="go">&lt;input type=&quot;text&quot; name=&quot;message&quot; id=&quot;id_message&quot; /&gt;</span>
</pre></div>
</div>
<p>Para uma lista de erros dos campos, acesse o atributo <tt class="docutils literal"><span class="pre">errors</span></tt> dos campos.
Este é uma objeto tipo lista que é mostrado como um HTML
<tt class="docutils literal"><span class="pre">&lt;ul</span> <span class="pre">class=&quot;errorlist&quot;&gt;</span></tt> quando impresso:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;subject&#39;</span><span class="p">:</span> <span class="s">&#39;hi&#39;</span><span class="p">,</span> <span class="s">&#39;message&#39;</span><span class="p">:</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;sender&#39;</span><span class="p">:</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;cc_myself&#39;</span><span class="p">:</span> <span class="s">&#39;&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">auto_id</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">f</span><span class="p">[</span><span class="s">&#39;message&#39;</span><span class="p">]</span>
<span class="go">&lt;input type=&quot;text&quot; name=&quot;message&quot; /&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">[</span><span class="s">&#39;message&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">errors</span>
<span class="go">[u&#39;This field is required.&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">f</span><span class="p">[</span><span class="s">&#39;message&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">errors</span>
<span class="go">&lt;ul class=&quot;errorlist&quot;&gt;&lt;li&gt;This field is required.&lt;/li&gt;&lt;/ul&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">[</span><span class="s">&#39;subject&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">errors</span>
<span class="go">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">f</span><span class="p">[</span><span class="s">&#39;subject&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">errors</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="s">&#39;subject&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">errors</span><span class="p">)</span>
<span class="go">&#39;&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="s-vinculando-arquivos-enviados-a-um-formulario">
<span id="s-binding-uploaded-files"></span><span id="vinculando-arquivos-enviados-a-um-formulario"></span><span id="binding-uploaded-files"></span><h2>Vinculando arquivos enviados a um formulário<a class="headerlink" href="#vinculando-arquivos-enviados-a-um-formulario" title="Permalink to this headline">¶</a></h2>
<div class="versionadded">
<span class="title">New in Django 1.0:</span> <a class="reference internal" href="../../releases/1.0.html"><em>Please, see the release notes</em></a></div>
<p>Lidar com formulários que possuem campos <tt class="docutils literal"><span class="pre">FileField</span></tt> e <tt class="docutils literal"><span class="pre">ImageField</span></tt> é um
pouco mais complicado que um formulário normal.</p>
<p>Primeiramente, a fim de fazer o upload de arquivos, você precisará estar certo
de que seu elemento <tt class="docutils literal"><span class="pre">&lt;form&gt;</span></tt> define corretamente o atributo <tt class="docutils literal"><span class="pre">enctype</span></tt> como
<tt class="docutils literal"><span class="pre">&quot;multipart/form-data&quot;</span></tt>:</p>
<div class="highlight-python"><pre>&lt;form enctype="multipart/form-data" method="post" action="/foo/"&gt;</pre>
</div>
<p>Depois, quando você usar o formulário, você precisa tratar os dados do arquivo.
Dados de arquivos são manipulados separadamente dos dados normais de formulário,
então quando seu formulário contiver um <tt class="docutils literal"><span class="pre">FieldField</span></tt> e <tt class="docutils literal"><span class="pre">ImageField</span></tt>, você
precisará especificar um segundo argumento quando for vincular o formulário.
Então se nós extendemos nosso ContacForm para incluir um <tt class="docutils literal"><span class="pre">ImageField</span></tt> chamado
<tt class="docutils literal"><span class="pre">mugshot</span></tt>, nós precisamos vincular os dados do arquivo que contém a imagem
mugshot:</p>
<div class="highlight-python"><pre># Bound form with an image field
&gt;&gt;&gt; from django.core.files.uploadedfile import SimpleUploadedFile
&gt;&gt;&gt; data = {'subject': 'hello',
...         'message': 'Hi there',
...         'sender': 'foo@example.com',
...         'cc_myself': True}
&gt;&gt;&gt; file_data = {'mugshot': SimpleUploadedFile('face.jpg', &lt;file data&gt;)}
&gt;&gt;&gt; f = ContactFormWithMugshot(data, file_data)</pre>
</div>
<p>Na prática, você normalemente especificará <tt class="docutils literal"><span class="pre">request.FILES</span></tt> como a fonte de
dados do arquivo (da mesma forma do <tt class="docutils literal"><span class="pre">request.POST</span></tt> como a fonte de dados de
formulários):</p>
<div class="highlight-python"><pre># Bound form with an image field, data from the request
&gt;&gt;&gt; f = ContactFormWithMugshot(request.POST, request.FILES)</pre>
</div>
<p>Constructing an unbound form is the same as always -- just omit both
form data <em>and</em> file data:</p>
<div class="highlight-python"><pre># Unbound form with a image field
&gt;&gt;&gt; f = ContactFormWithMugshot()</pre>
</div>
<div class="section" id="s-testando-formularios-multipart">
<span id="testando-formularios-multipart"></span><h3>Testando formulários multipart<a class="headerlink" href="#testando-formularios-multipart" title="Permalink to this headline">¶</a></h3>
<p>Se você está escrevendo views ou templates reusáveis, você pode não saber,
antes do tempo, se seu formulário é um formulário multipart ou não. O método
<tt class="docutils literal"><span class="pre">is_multipart()</span></tt> diz a você se o formulário requer codificação multipart para
sua submissão:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactFormWithMugshot</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">is_multipart</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Aqui temos um exemplo de como você pode usar isso num template:</p>
<div class="highlight-python"><pre>{% if form.is_multipart %}
    &lt;form enctype="multipart/form-data" method="post" action="/foo/"&gt;
{% else %}
    &lt;form method="post" action="/foo/"&gt;
{% endif %}
{{ form }}
&lt;/form&gt;</pre>
</div>
</div>
</div>
<div class="section" id="s-extendendo-formularios">
<span id="extendendo-formularios"></span><h2>Extendendo formulários<a class="headerlink" href="#extendendo-formularios" title="Permalink to this headline">¶</a></h2>
<p>Se você tem várias classes <tt class="docutils literal"><span class="pre">Form</span></tt> que compartilham campos, você pode usar
herança para eliminar a redundância.</p>
<p>Quando você extende uma classe <tt class="docutils literal"><span class="pre">Form</span></tt> personalizada, à subclasse resultante
será incluso todos os campos da(s) classe(s) pai, seguido pelos campos que
você definiu na subclasse.</p>
<p>Neste exemplo, o <tt class="docutils literal"><span class="pre">ContactFormWithPriority</span></tt> contém todos os campos do
<tt class="docutils literal"><span class="pre">ContactForm</span></tt>, mais um campo adicional, <tt class="docutils literal"><span class="pre">priority</span></tt>. Os campos do
<tt class="docutils literal"><span class="pre">ContactForm</span></tt> são ordenados primeiro:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">ContactFormWithPriority</span><span class="p">(</span><span class="n">ContactForm</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">priority</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactFormWithPriority</span><span class="p">(</span><span class="n">auto_id</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">f</span><span class="o">.</span><span class="n">as_ul</span><span class="p">()</span>
<span class="go">&lt;li&gt;Subject: &lt;input type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; /&gt;&lt;/li&gt;</span>
<span class="go">&lt;li&gt;Message: &lt;input type=&quot;text&quot; name=&quot;message&quot; /&gt;&lt;/li&gt;</span>
<span class="go">&lt;li&gt;Sender: &lt;input type=&quot;text&quot; name=&quot;sender&quot; /&gt;&lt;/li&gt;</span>
<span class="go">&lt;li&gt;Cc myself: &lt;input type=&quot;checkbox&quot; name=&quot;cc_myself&quot; /&gt;&lt;/li&gt;</span>
<span class="go">&lt;li&gt;Priority: &lt;input type=&quot;text&quot; name=&quot;priority&quot; /&gt;&lt;/li&gt;</span>
</pre></div>
</div>
<p>É possível extender vários formulários, tratando formulários como &quot;mix-ins&quot;.
Neste exemplo, <tt class="docutils literal"><span class="pre">BeatleForm</span></tt> extende ambos <tt class="docutils literal"><span class="pre">PersonForm</span></tt> e <tt class="docutils literal"><span class="pre">InstrumentForm</span></tt>
(nessa ordem), e sua lita de campos inclui os campos das classes pai:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">PersonForm</span><span class="p">(</span><span class="n">Form</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">first_name</span> <span class="o">=</span> <span class="n">CharField</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">last_name</span> <span class="o">=</span> <span class="n">CharField</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">InstrumentForm</span><span class="p">(</span><span class="n">Form</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">instrument</span> <span class="o">=</span> <span class="n">CharField</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">BeatleForm</span><span class="p">(</span><span class="n">PersonForm</span><span class="p">,</span> <span class="n">InstrumentForm</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">haircut_type</span> <span class="o">=</span> <span class="n">CharField</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">BeatleForm</span><span class="p">(</span><span class="n">auto_id</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">b</span><span class="o">.</span><span class="n">as_ul</span><span class="p">()</span>
<span class="go">&lt;li&gt;First name: &lt;input type=&quot;text&quot; name=&quot;first_name&quot; /&gt;&lt;/li&gt;</span>
<span class="go">&lt;li&gt;Last name: &lt;input type=&quot;text&quot; name=&quot;last_name&quot; /&gt;&lt;/li&gt;</span>
<span class="go">&lt;li&gt;Instrument: &lt;input type=&quot;text&quot; name=&quot;instrument&quot; /&gt;&lt;/li&gt;</span>
<span class="go">&lt;li&gt;Haircut type: &lt;input type=&quot;text&quot; name=&quot;haircut_type&quot; /&gt;&lt;/li&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="s-prefixes-for-forms">
<span id="s-form-prefix"></span><span id="prefixes-for-forms"></span><span id="form-prefix"></span><h2>Prefixes for forms<a class="headerlink" href="#prefixes-for-forms" title="Permalink to this headline">¶</a></h2>
<dl class="attribute">
<dt id="django.forms.Form.prefix">
<tt class="descclassname">Form.</tt><tt class="descname">prefix</tt><a class="headerlink" href="#django.forms.Form.prefix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Você pode colocar vários formulários Django dentro de uma tag <tt class="docutils literal"><span class="pre">&lt;form&gt;</span></tt>. Para
dar a cada <tt class="docutils literal"><span class="pre">Form</span></tt> seu próprio namespace, use o argumento <tt class="docutils literal"><span class="pre">prefix</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">mother</span> <span class="o">=</span> <span class="n">PersonForm</span><span class="p">(</span><span class="n">prefix</span><span class="o">=</span><span class="s">&quot;mother&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">father</span> <span class="o">=</span> <span class="n">PersonForm</span><span class="p">(</span><span class="n">prefix</span><span class="o">=</span><span class="s">&quot;father&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">mother</span><span class="o">.</span><span class="n">as_ul</span><span class="p">()</span>
<span class="go">&lt;li&gt;&lt;label for=&quot;id_mother-first_name&quot;&gt;First name:&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;mother-first_name&quot; id=&quot;id_mother-first_name&quot; /&gt;&lt;/li&gt;</span>
<span class="go">&lt;li&gt;&lt;label for=&quot;id_mother-last_name&quot;&gt;Last name:&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;mother-last_name&quot; id=&quot;id_mother-last_name&quot; /&gt;&lt;/li&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">father</span><span class="o">.</span><span class="n">as_ul</span><span class="p">()</span>
<span class="go">&lt;li&gt;&lt;label for=&quot;id_father-first_name&quot;&gt;First name:&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;father-first_name&quot; id=&quot;id_father-first_name&quot; /&gt;&lt;/li&gt;</span>
<span class="go">&lt;li&gt;&lt;label for=&quot;id_father-last_name&quot;&gt;Last name:&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;father-last_name&quot; id=&quot;id_father-last_name&quot; /&gt;&lt;/li&gt;</span>
</pre></div>
</div>
</div>
</div>


          </div>         
        </div>
      </div>
      
        
          <div class="yui-b" id="sidebar">
            
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">A API de formulários</a><ul>
<li><a class="reference internal" href="#bound-e-unbound-formularios">Bound e unbound formulários</a></li>
<li><a class="reference internal" href="#usando-formularios-para-validar-dados">Usando formulários para validar dados</a><ul>
<li><a class="reference internal" href="#comportamento-de-formulario-vazios">Comportamento de formulário vazios</a></li>
</ul>
</li>
<li><a class="reference internal" href="#valores-iniciais-dinamicos">Valores iniciais dinâmicos</a></li>
<li><a class="reference internal" href="#acessando-dados-limpos">Acessando dados &#8220;limpos&#8221;</a></li>
<li><a class="reference internal" href="#mostrando-os-formularios-como-html">Mostrando os formulários como HTML</a><ul>
<li><a class="reference internal" href="#as-p"><tt class="docutils literal"><span class="pre">as_p()</span></tt></a></li>
<li><a class="reference internal" href="#as-ul"><tt class="docutils literal"><span class="pre">as_ul()</span></tt></a></li>
<li><a class="reference internal" href="#as-table"><tt class="docutils literal"><span class="pre">as_table()</span></tt></a></li>
<li><a class="reference internal" href="#configurando-tags-html-label">Configurando tags HTML <tt class="docutils literal"><span class="pre">&lt;label&gt;</span></tt></a></li>
<li><a class="reference internal" href="#notas-sobre-o-campo-de-ordenacao">Notas sobre o campo de ordenação</a></li>
<li><a class="reference internal" href="#como-os-erros-sao-mostrados">Como os erros são mostrados</a></li>
<li><a class="reference internal" href="#personalizacao-do-formato-da-lista-de-erros">Personalização do formato da lista de erros</a></li>
<li><a class="reference internal" href="#saida-mais-granular">Saída mais granular</a></li>
</ul>
</li>
<li><a class="reference internal" href="#vinculando-arquivos-enviados-a-um-formulario">Vinculando arquivos enviados a um formulário</a><ul>
<li><a class="reference internal" href="#testando-formularios-multipart">Testando formulários multipart</a></li>
</ul>
</li>
<li><a class="reference internal" href="#extendendo-formularios">Extendendo formulários</a></li>
<li><a class="reference internal" href="#prefixes-for-forms">Prefixes for forms</a></li>
</ul>
</li>
</ul>

  <h3>Browse</h3>
  <ul>
    
      <li>Prev: <a href="index.html">Formulários</a></li>
    
    
      <li>Next: <a href="fields.html">Campos de formulário</a></li>
    
  </ul>
  <h3>Você está aqui:</h3>
  <ul>
      <li>
        <a href="../../index.html">Django v1.3.1 documentation</a>
        
          <ul><li><a href="../index.html">Referência da API</a>
        
          <ul><li><a href="index.html">Formulários</a>
        
        <ul><li>A API de formulários</li></ul>
        </li></ul></li></ul>
      </li>
  </ul>  

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/ref/forms/api.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
              <h3>Última atualização:</h3>
              <p class="topless">Dec 25, 2011</p>
          </div> 
        
      
    </div>
    
    <div id="ft">
      <div class="nav">
    &laquo; <a href="index.html" title="Formulários">previous</a> 
     |
    <a href="../index.html" title="Referência da API" accesskey="U">up</a>
   |
    <a href="fields.html" title="Campos de formulário">next</a> &raquo;</div>
    </div>
  </div>

      <div class="clearer"></div>
    </div>
  </body>
</html>